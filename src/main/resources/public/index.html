<html>

<head>
    <title>WebDisk</title>
    <style type="text/css">
        body {
            padding: 20px;
            font-family: 'Lucida Sans', 'Lucida Sans Regular', 'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif;
            color: #555;
            background-color: transparent;
        }

        a {
            color: #333;
            background-color: transparent;
        }
    </style>
</head>

<body>
    <h1>WebDisk</h1>
    <p>WebDisk is a demo project for evaluation purposes. The name WebDisk is only for the purpose of the demo and is
        not related in any way with other existing projects having the same name.</p>
    <h2>Documentation</h2>
    <ul>
        <li><a href="/apidocs/index.html">JavaDoc</a></li>
        <li><a href="/swagger-ui/index.html">APIDoc (Generated by Swagger)</a></li>
    </ul>
    <h2>Project target</h2>
    <p>Implementation of a REST file storage service</p>

    <ul>
        <li>Files are stored on disk, in the file system.</li>
        <li>File names can be 1-64 characters long and restricted to character set: a-zA-Z0-9_-</li>
        <li>Solution must support many files: at least 10.000.000 files, assume a huge disk at your disposal</li>
        <li>REST API must support the following operations:
            <ul>
                <li>File access: create, read, update, delete -> file is always identified by name</li>
                <li>File enumeration: return file names matching a regexp</li>
                <li>Size: return number of files in the storage. Optimize file access operations, file enum and size can
                    be slow.</li>
            </ul>
        </li>
        <li>Meaningful test coverage</li>
    </ul>
    <p>Constraints:</p>
    <ul>
        <li>Use Maven / Java 17</li>
        <li>3rd party libraries are ok for utils, DON'T use an existing database / storage library.</li>
    </ul>
    <p>Evaluation criteria (in ascending order):</p>
    <ul>
        <li>Correctness - does the solution work?</li>
        <li>Code clarity / structure</li>
        <li>Performance</li>
    </ul>
    <h2>Quick start</h2>
    <pre>
        curl -X GET http://localhost:8080/files/size -H "accept: application/json"

        Output: 
        {"size":7}
        ...
    
        curl -O -X GET http://localhost:8080/files/one
        ...
    
        curl -X POST -H "Content-Type: multipart/form-data" -F "file=@./oneup" http://localhost:8080/files/upload
        ...
        
        Output:
        {"fileName":"C73SM6cuo_GxPRkOqzUIfMGvX-v5_FZ9bQWP_Vn3J"}
        ...
    
        curl -X PUT -H "Content-Type: multipart/form-data" -F "file=@./oneup" http://localhost:8080/files/oneup
        ...
    
        curl -X DELETE http://localhost:8080/files/two
        ...
    
        curl -X GET http://localhost:8080/files/search?pattern=one
        
        Output:
        {"results":["one","andone"]}
        ...
    
        curl -X GET http://localhost:8080/files/restricted -H "Authorization: Bearer any_token"
        
        Output:
        Authorized
        ...        
    </pre>
</body>

</html>